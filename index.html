<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ComptCare</title>

<style>
body{
  font-family: Arial, sans-serif;
  margin:0;
  background:#f4f6f8;
}

/* CHAT BUTTON */
#chat-toggle{
  position:fixed;
  bottom:20px;
  right:20px;
  width:55px;
  height:55px;
  border-radius:50%;
  background:#0056b3;
  color:#fff;
  font-size:26px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}

/* CHAT BOX */
#chatbox{
  position:fixed;
  bottom:85px;
  right:20px;
  width:320px;
  height:420px;
  background:#fff;
  border-radius:12px;
  box-shadow:0 10px 25px rgba(0,0,0,.3);
  display:none;
  flex-direction:column;
}

.chat-header{
  background:#0056b3;
  color:#fff;
  padding:10px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

#chat-messages{
  flex:1;
  padding:10px;
  overflow-y:auto;
  font-size:14px;
}

.user-msg{
  text-align:right;
  margin:6px 0;
  color:#0056b3;
}

.bot-msg{
  text-align:left;
  margin:6px 0;
  color:green;
}

.typing{
  font-style:italic;
  color:#777;
  margin:6px 0;
}

.chat-input{
  display:flex;
  border-top:1px solid #ddd;
}

.chat-input input{
  flex:1;
  border:none;
  padding:10px;
  outline:none;
}

.chat-input button{
  background:#0056b3;
  color:#fff;
  border:none;
  padding:0 15px;
  cursor:pointer;
}
</style>
</head>

<body>

<!-- CHAT UI -->
<div id="chat-toggle">üí¨</div>

<div id="chatbox">
  <div class="chat-header">
    ComptCare AI
    <button onclick="closeChat()" style="background:none;border:none;color:#fff;font-size:18px;">‚Äî</button>
  </div>

  <div id="chat-messages"></div>

  <div class="chat-input">
    <input id="chat-input" placeholder="Type your message...">
    <button onclick="sendMsg()">Send</button>
  </div>
</div>

<script>
const toggle = document.getElementById("chat-toggle");
const box = document.getElementById("chatbox");
const input = document.getElementById("chat-input");
const msg = document.getElementById("chat-messages");

toggle.onclick = () => {
  box.style.display = "flex";
  if(msg.innerHTML === "") welcomeMsg();
};

function closeChat(){
  box.style.display = "none";
}

/* TIME GREETING ‚Äì FIXED */
function timeGreeting(){
  const h = new Date().getHours();
  if(h >= 5 && h < 12) return "Good Morning ‚òÄÔ∏è";
  if(h >= 12 && h < 17) return "Good Afternoon üå§Ô∏è";
  if(h >= 17 && h < 22) return "Good Evening üåô";
  return "Good Night üåå";
}

/* WELCOME MESSAGE */
function welcomeMsg(){
  msg.innerHTML += `<div class="bot-msg">
    ${timeGreeting()}! üëã<br>
    Welcome to <b>ComptCare</b>.<br>
    Please describe your problem or type <b>contact</b>.
  </div>`;
}

/* BOT REPLY */
function botReply(text){
  msg.innerHTML += `<div class="bot-msg">${text}</div>`;
  msg.scrollTop = msg.scrollHeight;
}

/* SEND MESSAGE */
function sendMsg(){
  const text = input.value.trim();
  if(!text) return;

  msg.innerHTML += `<div class="user-msg">${text}</div>`;
  input.value = "";

  const typing = document.createElement("div");
  typing.className = "typing";
  typing.innerText = "AI is typing...";
  msg.appendChild(typing);
  msg.scrollTop = msg.scrollHeight;

  const q = text.toLowerCase();

  setTimeout(() => {
    typing.remove();

    if(q.includes("contact") || q.includes("call") || q.includes("phone")){
      botReply("üìû Phone: +91 9624839901<br>üìß Email: comptcare0@gmail.com");
    }
    else if(q.includes("service")){
      botReply("üõ†Ô∏è We provide IT support, cloud services, security & helpdesk. What issue are you facing?");
    }
    else if(q.includes("hello") || q.includes("hi")){
      botReply(timeGreeting() + "! üòä How can I help you?");
    }
    else{
      botReply("üß† Thanks for explaining. Can you share more details about your problem?");
    }
  }, 1200);
}
</script>

</body>
</html>
